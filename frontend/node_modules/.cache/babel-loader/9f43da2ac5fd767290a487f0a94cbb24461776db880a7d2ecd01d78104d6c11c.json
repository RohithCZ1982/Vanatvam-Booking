{"ast":null,"code":"var _jsxFileName = \"/Users/rohithkumar/Documents/MySites/Vanatvam/frontend/src/components/Owner/BookingCalendar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingCalendar = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [cottages, setCottages] = useState([]);\n  const [selectedCottage, setSelectedCottage] = useState(null);\n  const [availability, setAvailability] = useState(null);\n  const [checkIn, setCheckIn] = useState('');\n  const [checkOut, setCheckOut] = useState('');\n  const [costBreakdown, setCostBreakdown] = useState(null);\n  const [quotaStatus, setQuotaStatus] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [quotaError, setQuotaError] = useState('');\n  useEffect(() => {\n    fetchCottages();\n    fetchQuotaStatus();\n  }, []);\n  useEffect(() => {\n    if (costBreakdown && quotaStatus) {\n      validateQuota();\n    } else {\n      setQuotaError('');\n    }\n  }, [costBreakdown, quotaStatus]);\n  const fetchQuotaStatus = async () => {\n    try {\n      const response = await api.get('/api/owner/quota-status');\n      setQuotaStatus(response.data);\n    } catch (error) {\n      console.error('Error fetching quota status:', error);\n    }\n  };\n  useEffect(() => {\n    if (selectedCottage && checkIn && checkOut) {\n      fetchAvailability();\n      calculateCost();\n    }\n  }, [selectedCottage, checkIn, checkOut]);\n  const fetchCottages = async () => {\n    try {\n      const response = await api.get('/api/owner/dashboard');\n      setCottages(response.data.cottages);\n    } catch (error) {\n      console.error('Error fetching cottages:', error);\n    }\n  };\n  const fetchAvailability = async () => {\n    if (!selectedCottage || !checkIn || !checkOut) return;\n    try {\n      const response = await api.get(`/api/owner/availability/${selectedCottage}?start_date=${checkIn}&end_date=${checkOut}`);\n      setAvailability(response.data);\n    } catch (error) {\n      console.error('Error fetching availability:', error);\n    }\n  };\n  const calculateCost = async () => {\n    if (!selectedCottage || !checkIn || !checkOut) return;\n    try {\n      const response = await api.post('/api/owner/calculate-cost', {\n        cottage_id: selectedCottage,\n        check_in: checkIn,\n        check_out: checkOut\n      });\n      setCostBreakdown(response.data);\n      // Refresh quota status after calculating cost\n      fetchQuotaStatus();\n    } catch (error) {\n      console.error('Error calculating cost:', error);\n    }\n  };\n  const validateQuota = () => {\n    if (!costBreakdown || !quotaStatus) {\n      setQuotaError('');\n      return;\n    }\n    const requiredWeekday = costBreakdown.weekday_credits;\n    const requiredWeekend = costBreakdown.weekend_credits;\n    const availableWeekday = quotaStatus.available_weekday;\n    const availableWeekend = quotaStatus.available_weekend;\n    const errors = [];\n    if (requiredWeekday > availableWeekday) {\n      errors.push(`Insufficient weekday credits. Required: ${requiredWeekday}, Available: ${availableWeekday}`);\n    }\n    if (requiredWeekend > availableWeekend) {\n      errors.push(`Insufficient weekend credits. Required: ${requiredWeekend}, Available: ${availableWeekend}`);\n    }\n    setQuotaError(errors.length > 0 ? errors.join('. ') : '');\n  };\n  const isQuotaExceeded = () => {\n    if (!costBreakdown || !quotaStatus) return false;\n    return costBreakdown.weekday_credits > quotaStatus.available_weekday || costBreakdown.weekend_credits > quotaStatus.available_weekend;\n  };\n  const handleBooking = async e => {\n    e.preventDefault();\n    if (!selectedCottage || !checkIn || !checkOut) {\n      setError('Please select cottage and dates');\n      return;\n    }\n    setError('');\n    setSuccess(false);\n    setLoading(true);\n    try {\n      await api.post('/api/owner/bookings', {\n        cottage_id: selectedCottage,\n        check_in: checkIn,\n        check_out: checkOut\n      });\n      setSuccess(true);\n      setCheckIn('');\n      setCheckOut('');\n      setSelectedCottage(null);\n      setCostBreakdown(null);\n      setQuotaError('');\n      fetchQuotaStatus(); // Refresh quota after successful booking\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Booking failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Book a Cottage (OWN-04, OWN-05, OWN-06, OWN-07)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }, this), quotaError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        style: {\n          backgroundColor: '#f8d7da',\n          color: '#721c24',\n          padding: '12px',\n          borderRadius: '4px',\n          marginBottom: '15px',\n          border: '1px solid #f5c6cb'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u26A0\\uFE0F Cannot Submit Booking:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), \" \", quotaError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success\",\n        children: \"Booking request submitted successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleBooking,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Select Cottage:\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedCottage || '',\n            onChange: e => setSelectedCottage(parseInt(e.target.value)),\n            required: true,\n            className: \"input\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Cottage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), cottages.map(cottage => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cottage.id,\n              children: cottage.cottage_id\n            }, cottage.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Check-in Date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: checkIn,\n            onChange: e => setCheckIn(e.target.value),\n            required: true,\n            className: \"input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Check-out Date:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: checkOut,\n            onChange: e => setCheckOut(e.target.value),\n            required: true,\n            className: \"input\",\n            min: checkIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), costBreakdown && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px',\n            marginBottom: '20px',\n            padding: '20px',\n            backgroundColor: '#f8f9fa',\n            borderRadius: '8px',\n            border: '1px solid #dee2e6',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginTop: '0',\n              marginBottom: '20px',\n              color: '#495057'\n            },\n            children: \"Cost Breakdown (OWN-06)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n              gap: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '12px',\n                backgroundColor: 'white',\n                borderRadius: '6px',\n                border: '1px solid #e9ecef',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d',\n                  marginBottom: '5px'\n                },\n                children: \"Weekday Credits\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '24px',\n                  fontWeight: 'bold',\n                  color: '#007bff'\n                },\n                children: costBreakdown.weekday_credits\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '12px',\n                backgroundColor: 'white',\n                borderRadius: '6px',\n                border: '1px solid #e9ecef',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d',\n                  marginBottom: '5px'\n                },\n                children: \"Weekend Credits\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '24px',\n                  fontWeight: 'bold',\n                  color: '#28a745'\n                },\n                children: costBreakdown.weekend_credits\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '12px',\n                backgroundColor: '#007bff',\n                borderRadius: '6px',\n                border: '1px solid #0056b3',\n                textAlign: 'center',\n                color: 'white'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  marginBottom: '5px',\n                  opacity: 0.9\n                },\n                children: \"Total Credits\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '28px',\n                  fontWeight: 'bold'\n                },\n                children: costBreakdown.total_credits\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), availability && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginBottom: '15px'\n            },\n            children: \"Availability Calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: '5px'\n            },\n            children: availability.availability.map(day => {\n              const isHolidayOrPeak = day.is_holiday || day.is_peak_season;\n              const dayDate = new Date(day.date).toISOString().split('T')[0];\n              const isSelectedDate = dayDate === checkIn || dayDate === checkOut;\n              const isInSelectedRange = checkIn && checkOut && dayDate >= checkIn && dayDate < checkOut;\n\n              // Determine background color\n              let backgroundColor = '#d4edda'; // default available\n              if (day.is_booked) {\n                backgroundColor = '#f8d7da';\n              } else if (day.is_maintenance) {\n                backgroundColor = '#fff3cd';\n              }\n\n              // Highlight holiday/peak season dates with yellow background\n              if (isHolidayOrPeak) {\n                backgroundColor = '#fff9c4'; // Light yellow\n              }\n\n              // Highlight selected dates with stronger border\n              const borderColor = isSelectedDate ? '#ffc107' : isHolidayOrPeak ? '#ffd700' : '#ddd';\n              const borderWidth = isSelectedDate ? '3px' : isHolidayOrPeak ? '2px' : '1px';\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '5px',\n                  width: '40px',\n                  textAlign: 'center',\n                  backgroundColor: backgroundColor,\n                  border: `${borderWidth} solid ${borderColor}`,\n                  borderRadius: '4px',\n                  fontSize: '12px',\n                  fontWeight: isSelectedDate ? 'bold' : 'normal',\n                  boxShadow: isSelectedDate ? '0 0 5px rgba(255, 193, 7, 0.5)' : 'none'\n                },\n                title: day.is_holiday ? 'Holiday (Weekend pricing)' : day.is_peak_season ? 'Peak Season (Weekend pricing)' : day.is_maintenance ? 'Maintenance' : day.is_booked ? 'Booked' : 'Available',\n                children: [new Date(day.date).getDate(), isHolidayOrPeak && ' üü°']\n              }, day.date, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '12px',\n              marginTop: '10px'\n            },\n            children: \"\\uD83D\\uDFE1 = Holiday/Peak Season (Weekend pricing) | Selected dates are highlighted with bold border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          disabled: loading || !costBreakdown || isQuotaExceeded(),\n          style: {\n            marginTop: '20px'\n          },\n          title: isQuotaExceeded() ? quotaError : loading ? 'Submitting...' : 'Submit Booking Request',\n          children: loading ? 'Submitting...' : 'Submit Booking Request'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this), isQuotaExceeded() && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '12px',\n            color: '#dc3545',\n            marginTop: '8px',\n            fontStyle: 'italic'\n          },\n          children: \"Please adjust your booking dates or contact admin to increase your quota.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingCalendar, \"DirGPwSNRizwImqoAu+hIUmjv9Q=\", false, function () {\n  return [useAuth];\n});\n_c = BookingCalendar;\nexport default BookingCalendar;\nvar _c;\n$RefreshReg$(_c, \"BookingCalendar\");","map":{"version":3,"names":["React","useEffect","useState","useAuth","api","jsxDEV","_jsxDEV","BookingCalendar","_s","user","cottages","setCottages","selectedCottage","setSelectedCottage","availability","setAvailability","checkIn","setCheckIn","checkOut","setCheckOut","costBreakdown","setCostBreakdown","quotaStatus","setQuotaStatus","loading","setLoading","error","setError","success","setSuccess","quotaError","setQuotaError","fetchCottages","fetchQuotaStatus","validateQuota","response","get","data","console","fetchAvailability","calculateCost","post","cottage_id","check_in","check_out","requiredWeekday","weekday_credits","requiredWeekend","weekend_credits","availableWeekday","available_weekday","availableWeekend","available_weekend","errors","push","length","join","isQuotaExceeded","handleBooking","e","preventDefault","err","_err$response","_err$response$data","detail","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","color","padding","borderRadius","marginBottom","border","onSubmit","value","onChange","parseInt","target","required","map","cottage","id","type","min","marginTop","boxShadow","display","gridTemplateColumns","gap","textAlign","fontSize","fontWeight","opacity","total_credits","flexWrap","day","isHolidayOrPeak","is_holiday","is_peak_season","dayDate","Date","date","toISOString","split","isSelectedDate","isInSelectedRange","is_booked","is_maintenance","borderColor","borderWidth","width","title","getDate","disabled","fontStyle","_c","$RefreshReg$"],"sources":["/Users/rohithkumar/Documents/MySites/Vanatvam/frontend/src/components/Owner/BookingCalendar.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../services/api';\n\ninterface Cottage {\n  id: number;\n  cottage_id: string;\n}\n\ninterface DateAvailability {\n  date: string;\n  is_available: boolean;\n  is_booked: boolean;\n  is_maintenance: boolean;\n  is_holiday: boolean;\n  is_peak_season: boolean;\n  cost_weekday: boolean;\n}\n\ninterface AvailabilityData {\n  cottage_id: number;\n  cottage_name: string;\n  availability: DateAvailability[];\n}\n\nconst BookingCalendar: React.FC = () => {\n  const { user } = useAuth();\n  const [cottages, setCottages] = useState<Cottage[]>([]);\n  const [selectedCottage, setSelectedCottage] = useState<number | null>(null);\n  const [availability, setAvailability] = useState<AvailabilityData | null>(null);\n  const [checkIn, setCheckIn] = useState('');\n  const [checkOut, setCheckOut] = useState('');\n  const [costBreakdown, setCostBreakdown] = useState<any>(null);\n  const [quotaStatus, setQuotaStatus] = useState<any>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [quotaError, setQuotaError] = useState('');\n\n  useEffect(() => {\n    fetchCottages();\n    fetchQuotaStatus();\n  }, []);\n\n  useEffect(() => {\n    if (costBreakdown && quotaStatus) {\n      validateQuota();\n    } else {\n      setQuotaError('');\n    }\n  }, [costBreakdown, quotaStatus]);\n\n  const fetchQuotaStatus = async () => {\n    try {\n      const response = await api.get('/api/owner/quota-status');\n      setQuotaStatus(response.data);\n    } catch (error) {\n      console.error('Error fetching quota status:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedCottage && checkIn && checkOut) {\n      fetchAvailability();\n      calculateCost();\n    }\n  }, [selectedCottage, checkIn, checkOut]);\n\n  const fetchCottages = async () => {\n    try {\n      const response = await api.get('/api/owner/dashboard');\n      setCottages(response.data.cottages);\n    } catch (error) {\n      console.error('Error fetching cottages:', error);\n    }\n  };\n\n  const fetchAvailability = async () => {\n    if (!selectedCottage || !checkIn || !checkOut) return;\n\n    try {\n      const response = await api.get(\n        `/api/owner/availability/${selectedCottage}?start_date=${checkIn}&end_date=${checkOut}`\n      );\n      setAvailability(response.data);\n    } catch (error) {\n      console.error('Error fetching availability:', error);\n    }\n  };\n\n  const calculateCost = async () => {\n    if (!selectedCottage || !checkIn || !checkOut) return;\n\n    try {\n      const response = await api.post('/api/owner/calculate-cost', {\n        cottage_id: selectedCottage,\n        check_in: checkIn,\n        check_out: checkOut,\n      });\n      setCostBreakdown(response.data);\n      // Refresh quota status after calculating cost\n      fetchQuotaStatus();\n    } catch (error) {\n      console.error('Error calculating cost:', error);\n    }\n  };\n\n  const validateQuota = () => {\n    if (!costBreakdown || !quotaStatus) {\n      setQuotaError('');\n      return;\n    }\n\n    const requiredWeekday = costBreakdown.weekday_credits;\n    const requiredWeekend = costBreakdown.weekend_credits;\n    const availableWeekday = quotaStatus.available_weekday;\n    const availableWeekend = quotaStatus.available_weekend;\n\n    const errors: string[] = [];\n\n    if (requiredWeekday > availableWeekday) {\n      errors.push(\n        `Insufficient weekday credits. Required: ${requiredWeekday}, Available: ${availableWeekday}`\n      );\n    }\n\n    if (requiredWeekend > availableWeekend) {\n      errors.push(\n        `Insufficient weekend credits. Required: ${requiredWeekend}, Available: ${availableWeekend}`\n      );\n    }\n\n    setQuotaError(errors.length > 0 ? errors.join('. ') : '');\n  };\n\n  const isQuotaExceeded = () => {\n    if (!costBreakdown || !quotaStatus) return false;\n    return (\n      costBreakdown.weekday_credits > quotaStatus.available_weekday ||\n      costBreakdown.weekend_credits > quotaStatus.available_weekend\n    );\n  };\n\n  const handleBooking = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!selectedCottage || !checkIn || !checkOut) {\n      setError('Please select cottage and dates');\n      return;\n    }\n\n    setError('');\n    setSuccess(false);\n    setLoading(true);\n\n    try {\n      await api.post('/api/owner/bookings', {\n        cottage_id: selectedCottage,\n        check_in: checkIn,\n        check_out: checkOut,\n      });\n      setSuccess(true);\n      setCheckIn('');\n      setCheckOut('');\n      setSelectedCottage(null);\n      setCostBreakdown(null);\n      setQuotaError('');\n      fetchQuotaStatus(); // Refresh quota after successful booking\n    } catch (err: any) {\n      setError(err.response?.data?.detail || 'Booking failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"card\">\n        <h2>Book a Cottage (OWN-04, OWN-05, OWN-06, OWN-07)</h2>\n        {error && <div className=\"error\">{error}</div>}\n        {quotaError && (\n          <div className=\"error\" style={{ \n            backgroundColor: '#f8d7da', \n            color: '#721c24', \n            padding: '12px', \n            borderRadius: '4px',\n            marginBottom: '15px',\n            border: '1px solid #f5c6cb'\n          }}>\n            <strong>‚ö†Ô∏è Cannot Submit Booking:</strong> {quotaError}\n          </div>\n        )}\n        {success && <div className=\"success\">Booking request submitted successfully!</div>}\n\n        <form onSubmit={handleBooking}>\n          <label>\n            Select Cottage:\n            <select\n              value={selectedCottage || ''}\n              onChange={(e) => setSelectedCottage(parseInt(e.target.value))}\n              required\n              className=\"input\"\n            >\n              <option value=\"\">Select Cottage</option>\n              {cottages.map((cottage) => (\n                <option key={cottage.id} value={cottage.id}>\n                  {cottage.cottage_id}\n                </option>\n              ))}\n            </select>\n          </label>\n\n          <label>\n            Check-in Date:\n            <input\n              type=\"date\"\n              value={checkIn}\n              onChange={(e) => setCheckIn(e.target.value)}\n              required\n              className=\"input\"\n            />\n          </label>\n\n          <label>\n            Check-out Date:\n            <input\n              type=\"date\"\n              value={checkOut}\n              onChange={(e) => setCheckOut(e.target.value)}\n              required\n              className=\"input\"\n              min={checkIn}\n            />\n          </label>\n\n          {costBreakdown && (\n            <div style={{ \n              marginTop: '20px', \n              marginBottom: '20px',\n              padding: '20px', \n              backgroundColor: '#f8f9fa', \n              borderRadius: '8px',\n              border: '1px solid #dee2e6',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n              <h4 style={{ marginTop: '0', marginBottom: '20px', color: '#495057' }}>\n                Cost Breakdown (OWN-06)\n              </h4>\n              <div style={{ \n                display: 'grid', \n                gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n                gap: '15px' \n              }}>\n                <div style={{\n                  padding: '12px',\n                  backgroundColor: 'white',\n                  borderRadius: '6px',\n                  border: '1px solid #e9ecef',\n                  textAlign: 'center'\n                }}>\n                  <div style={{ fontSize: '12px', color: '#6c757d', marginBottom: '5px' }}>\n                    Weekday Credits\n                  </div>\n                  <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#007bff' }}>\n                    {costBreakdown.weekday_credits}\n                  </div>\n                </div>\n                <div style={{\n                  padding: '12px',\n                  backgroundColor: 'white',\n                  borderRadius: '6px',\n                  border: '1px solid #e9ecef',\n                  textAlign: 'center'\n                }}>\n                  <div style={{ fontSize: '12px', color: '#6c757d', marginBottom: '5px' }}>\n                    Weekend Credits\n                  </div>\n                  <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#28a745' }}>\n                    {costBreakdown.weekend_credits}\n                  </div>\n                </div>\n                <div style={{\n                  padding: '12px',\n                  backgroundColor: '#007bff',\n                  borderRadius: '6px',\n                  border: '1px solid #0056b3',\n                  textAlign: 'center',\n                  color: 'white'\n                }}>\n                  <div style={{ fontSize: '12px', marginBottom: '5px', opacity: 0.9 }}>\n                    Total Credits\n                  </div>\n                  <div style={{ fontSize: '28px', fontWeight: 'bold' }}>\n                    {costBreakdown.total_credits}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {availability && (\n            <div style={{ marginTop: '20px' }}>\n              <h4 style={{ marginBottom: '15px' }}>Availability Calendar</h4>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '5px' }}>\n                {availability.availability.map((day) => {\n                  const isHolidayOrPeak = day.is_holiday || day.is_peak_season;\n                  const dayDate = new Date(day.date).toISOString().split('T')[0];\n                  const isSelectedDate = dayDate === checkIn || dayDate === checkOut;\n                  const isInSelectedRange = checkIn && checkOut && dayDate >= checkIn && dayDate < checkOut;\n                  \n                  // Determine background color\n                  let backgroundColor = '#d4edda'; // default available\n                  if (day.is_booked) {\n                    backgroundColor = '#f8d7da';\n                  } else if (day.is_maintenance) {\n                    backgroundColor = '#fff3cd';\n                  }\n                  \n                  // Highlight holiday/peak season dates with yellow background\n                  if (isHolidayOrPeak) {\n                    backgroundColor = '#fff9c4'; // Light yellow\n                  }\n                  \n                  // Highlight selected dates with stronger border\n                  const borderColor = isSelectedDate ? '#ffc107' : isHolidayOrPeak ? '#ffd700' : '#ddd';\n                  const borderWidth = isSelectedDate ? '3px' : isHolidayOrPeak ? '2px' : '1px';\n                  \n                  return (\n                    <div\n                      key={day.date}\n                      style={{\n                        padding: '5px',\n                        width: '40px',\n                        textAlign: 'center',\n                        backgroundColor: backgroundColor,\n                        border: `${borderWidth} solid ${borderColor}`,\n                        borderRadius: '4px',\n                        fontSize: '12px',\n                        fontWeight: isSelectedDate ? 'bold' : 'normal',\n                        boxShadow: isSelectedDate ? '0 0 5px rgba(255, 193, 7, 0.5)' : 'none',\n                      }}\n                      title={\n                        day.is_holiday\n                          ? 'Holiday (Weekend pricing)'\n                          : day.is_peak_season\n                          ? 'Peak Season (Weekend pricing)'\n                          : day.is_maintenance\n                          ? 'Maintenance'\n                          : day.is_booked\n                          ? 'Booked'\n                          : 'Available'\n                      }\n                    >\n                      {new Date(day.date).getDate()}\n                      {isHolidayOrPeak && ' üü°'}\n                    </div>\n                  );\n                })}\n              </div>\n              <p style={{ fontSize: '12px', marginTop: '10px' }}>\n                üü° = Holiday/Peak Season (Weekend pricing) | Selected dates are highlighted with bold border\n              </p>\n            </div>\n          )}\n\n          <button \n            type=\"submit\" \n            className=\"btn btn-primary\" \n            disabled={loading || !costBreakdown || isQuotaExceeded()}\n            style={{ marginTop: '20px' }}\n            title={isQuotaExceeded() ? quotaError : loading ? 'Submitting...' : 'Submit Booking Request'}\n          >\n            {loading ? 'Submitting...' : 'Submit Booking Request'}\n          </button>\n          {isQuotaExceeded() && (\n            <p style={{ \n              fontSize: '12px', \n              color: '#dc3545', \n              marginTop: '8px',\n              fontStyle: 'italic'\n            }}>\n              Please adjust your booking dates or contact admin to increase your quota.\n            </p>\n          )}\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default BookingCalendar;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}