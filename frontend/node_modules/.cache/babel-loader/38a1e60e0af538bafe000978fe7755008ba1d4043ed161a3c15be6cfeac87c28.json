{"ast":null,"code":"var _jsxFileName = \"/Users/rohithkumar/Documents/MySites/Vanatvam/frontend/src/components/Owner/BookingCalendar.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingCalendar = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [cottages, setCottages] = useState([]);\n  const [selectedCottage, setSelectedCottage] = useState(null);\n  const [availability, setAvailability] = useState(null);\n  const [checkIn, setCheckIn] = useState('');\n  const [checkOut, setCheckOut] = useState('');\n  const [costBreakdown, setCostBreakdown] = useState(null);\n  const [quotaStatus, setQuotaStatus] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [quotaError, setQuotaError] = useState('');\n\n  // Get today's date in YYYY-MM-DD format for min date validation\n  const getTodayDate = () => {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = String(today.getMonth() + 1).padStart(2, '0');\n    const day = String(today.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n  useEffect(() => {\n    fetchCottages();\n    fetchQuotaStatus();\n  }, []);\n  useEffect(() => {\n    if (costBreakdown && quotaStatus) {\n      validateQuota();\n    } else {\n      setQuotaError('');\n    }\n  }, [costBreakdown, quotaStatus]);\n  const fetchQuotaStatus = async () => {\n    try {\n      const response = await api.get('/api/owner/quota-status');\n      setQuotaStatus(response.data);\n    } catch (error) {\n      console.error('Error fetching quota status:', error);\n    }\n  };\n  useEffect(() => {\n    if (selectedCottage && checkIn && checkOut) {\n      fetchAvailability();\n      calculateCost();\n    }\n  }, [selectedCottage, checkIn, checkOut]);\n  const fetchCottages = async () => {\n    try {\n      const response = await api.get('/api/owner/dashboard');\n      setCottages(response.data.cottages);\n    } catch (error) {\n      console.error('Error fetching cottages:', error);\n    }\n  };\n  const fetchAvailability = async () => {\n    if (!selectedCottage || !checkIn || !checkOut) return;\n    try {\n      const response = await api.get(`/api/owner/availability/${selectedCottage}?start_date=${checkIn}&end_date=${checkOut}`);\n      setAvailability(response.data);\n    } catch (error) {\n      console.error('Error fetching availability:', error);\n    }\n  };\n  const calculateCost = async () => {\n    if (!selectedCottage || !checkIn || !checkOut) return;\n    try {\n      const response = await api.post('/api/owner/calculate-cost', {\n        cottage_id: selectedCottage,\n        check_in: checkIn,\n        check_out: checkOut\n      });\n      setCostBreakdown(response.data);\n      // Refresh quota status after calculating cost\n      fetchQuotaStatus();\n    } catch (error) {\n      console.error('Error calculating cost:', error);\n    }\n  };\n  const validateQuota = () => {\n    if (!costBreakdown || !quotaStatus) {\n      setQuotaError('');\n      return;\n    }\n    const requiredWeekday = costBreakdown.weekday_credits;\n    const requiredWeekend = costBreakdown.weekend_credits;\n    const availableWeekday = quotaStatus.available_weekday;\n    const availableWeekend = quotaStatus.available_weekend;\n    const errors = [];\n    if (requiredWeekday > availableWeekday) {\n      errors.push(`Insufficient weekday credits. Required: ${requiredWeekday}, Available: ${availableWeekday}`);\n    }\n    if (requiredWeekend > availableWeekend) {\n      errors.push(`Insufficient weekend credits. Required: ${requiredWeekend}, Available: ${availableWeekend}`);\n    }\n    setQuotaError(errors.length > 0 ? errors.join('. ') : '');\n  };\n  const isQuotaExceeded = () => {\n    if (!costBreakdown || !quotaStatus) return false;\n    return costBreakdown.weekday_credits > quotaStatus.available_weekday || costBreakdown.weekend_credits > quotaStatus.available_weekend;\n  };\n  const handleBooking = async e => {\n    e.preventDefault();\n    if (!selectedCottage || !checkIn || !checkOut) {\n      setError('Please select cottage and dates');\n      return;\n    }\n    setError('');\n    setSuccess(false);\n    setLoading(true);\n    try {\n      await api.post('/api/owner/bookings', {\n        cottage_id: selectedCottage,\n        check_in: checkIn,\n        check_out: checkOut\n      });\n      setSuccess(true);\n      setCheckIn('');\n      setCheckOut('');\n      setSelectedCottage(null);\n      setCostBreakdown(null);\n      setQuotaError('');\n      fetchQuotaStatus(); // Refresh quota after successful booking\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Booking failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Book a Cottage (OWN-04, OWN-05, OWN-06, OWN-07)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 19\n      }, this), quotaError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        style: {\n          backgroundColor: '#f8d7da',\n          color: '#721c24',\n          padding: '12px',\n          borderRadius: '4px',\n          marginBottom: '15px',\n          border: '1px solid #f5c6cb'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u26A0\\uFE0F Cannot Submit Booking:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), \" \", quotaError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success\",\n        children: \"Booking request submitted successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleBooking,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginBottom: '20px',\n            display: 'block'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: \"Select Cottage:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedCottage || '',\n            onChange: e => setSelectedCottage(parseInt(e.target.value)),\n            required: true,\n            className: \"input\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Cottage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), cottages.map(cottage => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cottage.id,\n              children: cottage.cottage_id\n            }, cottage.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginBottom: '20px',\n            display: 'block'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: \"Check-in Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: checkIn,\n            onChange: e => setCheckIn(e.target.value),\n            required: true,\n            className: \"input\",\n            min: getTodayDate()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginBottom: '20px',\n            display: 'block'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '8px'\n            },\n            children: \"Check-out Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: checkOut,\n            onChange: e => setCheckOut(e.target.value),\n            required: true,\n            className: \"input\",\n            min: checkIn || getTodayDate()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), costBreakdown && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px',\n            marginBottom: '20px',\n            padding: '20px',\n            backgroundColor: '#f8f9fa',\n            borderRadius: '8px',\n            border: '1px solid #dee2e6',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginTop: '0',\n              marginBottom: '20px',\n              color: '#495057'\n            },\n            children: \"Cost Breakdown (OWN-06)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n              gap: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '12px',\n                backgroundColor: 'white',\n                borderRadius: '6px',\n                border: '1px solid #e9ecef',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d',\n                  marginBottom: '5px'\n                },\n                children: \"Weekday Credits\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '24px',\n                  fontWeight: 'bold',\n                  color: '#007bff'\n                },\n                children: costBreakdown.weekday_credits\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '12px',\n                backgroundColor: 'white',\n                borderRadius: '6px',\n                border: '1px solid #e9ecef',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#6c757d',\n                  marginBottom: '5px'\n                },\n                children: \"Weekend Credits\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '24px',\n                  fontWeight: 'bold',\n                  color: '#28a745'\n                },\n                children: costBreakdown.weekend_credits\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '12px',\n                backgroundColor: '#007bff',\n                borderRadius: '6px',\n                border: '1px solid #0056b3',\n                textAlign: 'center',\n                color: 'white'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  marginBottom: '5px',\n                  opacity: 0.9\n                },\n                children: \"Total Credits\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '28px',\n                  fontWeight: 'bold'\n                },\n                children: costBreakdown.total_credits\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), availability && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginBottom: '15px'\n            },\n            children: \"Availability Calendar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: '5px'\n            },\n            children: availability.availability.map(day => {\n              const isHolidayOrPeak = day.is_holiday || day.is_peak_season;\n              const dayDate = new Date(day.date).toISOString().split('T')[0];\n              const isSelectedDate = dayDate === checkIn || dayDate === checkOut;\n              const isInSelectedRange = checkIn && checkOut && dayDate >= checkIn && dayDate < checkOut;\n\n              // Determine background color\n              let backgroundColor = '#d4edda'; // default available\n              if (day.is_booked) {\n                backgroundColor = '#f8d7da';\n              } else if (day.is_maintenance) {\n                backgroundColor = '#fff3cd';\n              }\n\n              // Highlight holiday/peak season dates with yellow background\n              if (isHolidayOrPeak) {\n                backgroundColor = '#fff9c4'; // Light yellow\n              }\n\n              // Highlight selected dates with stronger border\n              const borderColor = isSelectedDate ? '#ffc107' : isHolidayOrPeak ? '#ffd700' : '#ddd';\n              const borderWidth = isSelectedDate ? '3px' : isHolidayOrPeak ? '2px' : '1px';\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  padding: '5px',\n                  width: '40px',\n                  textAlign: 'center',\n                  backgroundColor: backgroundColor,\n                  border: `${borderWidth} solid ${borderColor}`,\n                  borderRadius: '4px',\n                  fontSize: '12px',\n                  fontWeight: isSelectedDate ? 'bold' : 'normal',\n                  boxShadow: isSelectedDate ? '0 0 5px rgba(255, 193, 7, 0.5)' : 'none'\n                },\n                title: day.is_holiday ? 'Holiday (Weekend pricing)' : day.is_peak_season ? 'Peak Season (Weekend pricing)' : day.is_maintenance ? 'Maintenance' : day.is_booked ? 'Booked' : 'Available',\n                children: [new Date(day.date).getDate(), isHolidayOrPeak && ' üü°']\n              }, day.date, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '12px',\n              marginTop: '10px'\n            },\n            children: \"\\uD83D\\uDFE1 = Holiday/Peak Season (Weekend pricing) | Selected dates are highlighted with bold border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          disabled: loading || !costBreakdown || isQuotaExceeded(),\n          style: {\n            marginTop: '20px'\n          },\n          title: isQuotaExceeded() ? quotaError : loading ? 'Submitting...' : 'Submit Booking Request',\n          children: loading ? 'Submitting...' : 'Submit Booking Request'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), isQuotaExceeded() && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '12px',\n            color: '#dc3545',\n            marginTop: '8px',\n            fontStyle: 'italic'\n          },\n          children: \"Please adjust your booking dates or contact admin to increase your quota.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingCalendar, \"DirGPwSNRizwImqoAu+hIUmjv9Q=\", false, function () {\n  return [useAuth];\n});\n_c = BookingCalendar;\nexport default BookingCalendar;\nvar _c;\n$RefreshReg$(_c, \"BookingCalendar\");","map":{"version":3,"names":["React","useEffect","useState","useAuth","api","jsxDEV","_jsxDEV","BookingCalendar","_s","user","cottages","setCottages","selectedCottage","setSelectedCottage","availability","setAvailability","checkIn","setCheckIn","checkOut","setCheckOut","costBreakdown","setCostBreakdown","quotaStatus","setQuotaStatus","loading","setLoading","error","setError","success","setSuccess","quotaError","setQuotaError","getTodayDate","today","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","fetchCottages","fetchQuotaStatus","validateQuota","response","get","data","console","fetchAvailability","calculateCost","post","cottage_id","check_in","check_out","requiredWeekday","weekday_credits","requiredWeekend","weekend_credits","availableWeekday","available_weekday","availableWeekend","available_weekend","errors","push","length","join","isQuotaExceeded","handleBooking","e","preventDefault","err","_err$response","_err$response$data","detail","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","color","padding","borderRadius","marginBottom","border","onSubmit","display","value","onChange","parseInt","target","required","map","cottage","id","type","min","marginTop","boxShadow","gridTemplateColumns","gap","textAlign","fontSize","fontWeight","opacity","total_credits","flexWrap","isHolidayOrPeak","is_holiday","is_peak_season","dayDate","date","toISOString","split","isSelectedDate","isInSelectedRange","is_booked","is_maintenance","borderColor","borderWidth","width","title","disabled","fontStyle","_c","$RefreshReg$"],"sources":["/Users/rohithkumar/Documents/MySites/Vanatvam/frontend/src/components/Owner/BookingCalendar.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport api from '../../services/api';\n\ninterface Cottage {\n  id: number;\n  cottage_id: string;\n}\n\ninterface DateAvailability {\n  date: string;\n  is_available: boolean;\n  is_booked: boolean;\n  is_maintenance: boolean;\n  is_holiday: boolean;\n  is_peak_season: boolean;\n  cost_weekday: boolean;\n}\n\ninterface AvailabilityData {\n  cottage_id: number;\n  cottage_name: string;\n  availability: DateAvailability[];\n}\n\nconst BookingCalendar: React.FC = () => {\n  const { user } = useAuth();\n  const [cottages, setCottages] = useState<Cottage[]>([]);\n  const [selectedCottage, setSelectedCottage] = useState<number | null>(null);\n  const [availability, setAvailability] = useState<AvailabilityData | null>(null);\n  const [checkIn, setCheckIn] = useState('');\n  const [checkOut, setCheckOut] = useState('');\n  const [costBreakdown, setCostBreakdown] = useState<any>(null);\n  const [quotaStatus, setQuotaStatus] = useState<any>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState(false);\n  const [quotaError, setQuotaError] = useState('');\n\n  // Get today's date in YYYY-MM-DD format for min date validation\n  const getTodayDate = () => {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = String(today.getMonth() + 1).padStart(2, '0');\n    const day = String(today.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n\n  useEffect(() => {\n    fetchCottages();\n    fetchQuotaStatus();\n  }, []);\n\n  useEffect(() => {\n    if (costBreakdown && quotaStatus) {\n      validateQuota();\n    } else {\n      setQuotaError('');\n    }\n  }, [costBreakdown, quotaStatus]);\n\n  const fetchQuotaStatus = async () => {\n    try {\n      const response = await api.get('/api/owner/quota-status');\n      setQuotaStatus(response.data);\n    } catch (error) {\n      console.error('Error fetching quota status:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (selectedCottage && checkIn && checkOut) {\n      fetchAvailability();\n      calculateCost();\n    }\n  }, [selectedCottage, checkIn, checkOut]);\n\n  const fetchCottages = async () => {\n    try {\n      const response = await api.get('/api/owner/dashboard');\n      setCottages(response.data.cottages);\n    } catch (error) {\n      console.error('Error fetching cottages:', error);\n    }\n  };\n\n  const fetchAvailability = async () => {\n    if (!selectedCottage || !checkIn || !checkOut) return;\n\n    try {\n      const response = await api.get(\n        `/api/owner/availability/${selectedCottage}?start_date=${checkIn}&end_date=${checkOut}`\n      );\n      setAvailability(response.data);\n    } catch (error) {\n      console.error('Error fetching availability:', error);\n    }\n  };\n\n  const calculateCost = async () => {\n    if (!selectedCottage || !checkIn || !checkOut) return;\n\n    try {\n      const response = await api.post('/api/owner/calculate-cost', {\n        cottage_id: selectedCottage,\n        check_in: checkIn,\n        check_out: checkOut,\n      });\n      setCostBreakdown(response.data);\n      // Refresh quota status after calculating cost\n      fetchQuotaStatus();\n    } catch (error) {\n      console.error('Error calculating cost:', error);\n    }\n  };\n\n  const validateQuota = () => {\n    if (!costBreakdown || !quotaStatus) {\n      setQuotaError('');\n      return;\n    }\n\n    const requiredWeekday = costBreakdown.weekday_credits;\n    const requiredWeekend = costBreakdown.weekend_credits;\n    const availableWeekday = quotaStatus.available_weekday;\n    const availableWeekend = quotaStatus.available_weekend;\n\n    const errors: string[] = [];\n\n    if (requiredWeekday > availableWeekday) {\n      errors.push(\n        `Insufficient weekday credits. Required: ${requiredWeekday}, Available: ${availableWeekday}`\n      );\n    }\n\n    if (requiredWeekend > availableWeekend) {\n      errors.push(\n        `Insufficient weekend credits. Required: ${requiredWeekend}, Available: ${availableWeekend}`\n      );\n    }\n\n    setQuotaError(errors.length > 0 ? errors.join('. ') : '');\n  };\n\n  const isQuotaExceeded = () => {\n    if (!costBreakdown || !quotaStatus) return false;\n    return (\n      costBreakdown.weekday_credits > quotaStatus.available_weekday ||\n      costBreakdown.weekend_credits > quotaStatus.available_weekend\n    );\n  };\n\n  const handleBooking = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!selectedCottage || !checkIn || !checkOut) {\n      setError('Please select cottage and dates');\n      return;\n    }\n\n    setError('');\n    setSuccess(false);\n    setLoading(true);\n\n    try {\n      await api.post('/api/owner/bookings', {\n        cottage_id: selectedCottage,\n        check_in: checkIn,\n        check_out: checkOut,\n      });\n      setSuccess(true);\n      setCheckIn('');\n      setCheckOut('');\n      setSelectedCottage(null);\n      setCostBreakdown(null);\n      setQuotaError('');\n      fetchQuotaStatus(); // Refresh quota after successful booking\n    } catch (err: any) {\n      setError(err.response?.data?.detail || 'Booking failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"card\">\n        <h2>Book a Cottage (OWN-04, OWN-05, OWN-06, OWN-07)</h2>\n        {error && <div className=\"error\">{error}</div>}\n        {quotaError && (\n          <div className=\"error\" style={{ \n            backgroundColor: '#f8d7da', \n            color: '#721c24', \n            padding: '12px', \n            borderRadius: '4px',\n            marginBottom: '15px',\n            border: '1px solid #f5c6cb'\n          }}>\n            <strong>‚ö†Ô∏è Cannot Submit Booking:</strong> {quotaError}\n          </div>\n        )}\n        {success && <div className=\"success\">Booking request submitted successfully!</div>}\n\n        <form onSubmit={handleBooking}>\n          <label style={{ marginBottom: '20px', display: 'block' }}>\n            <div style={{ marginBottom: '8px' }}>Select Cottage:</div>\n            <select\n              value={selectedCottage || ''}\n              onChange={(e) => setSelectedCottage(parseInt(e.target.value))}\n              required\n              className=\"input\"\n            >\n              <option value=\"\">Select Cottage</option>\n              {cottages.map((cottage) => (\n                <option key={cottage.id} value={cottage.id}>\n                  {cottage.cottage_id}\n                </option>\n              ))}\n            </select>\n          </label>\n\n          <label style={{ marginBottom: '20px', display: 'block' }}>\n            <div style={{ marginBottom: '8px' }}>Check-in Date:</div>\n            <input\n              type=\"date\"\n              value={checkIn}\n              onChange={(e) => setCheckIn(e.target.value)}\n              required\n              className=\"input\"\n              min={getTodayDate()}\n            />\n          </label>\n\n          <label style={{ marginBottom: '20px', display: 'block' }}>\n            <div style={{ marginBottom: '8px' }}>Check-out Date:</div>\n            <input\n              type=\"date\"\n              value={checkOut}\n              onChange={(e) => setCheckOut(e.target.value)}\n              required\n              className=\"input\"\n              min={checkIn || getTodayDate()}\n            />\n          </label>\n\n          {costBreakdown && (\n            <div style={{ \n              marginTop: '20px', \n              marginBottom: '20px',\n              padding: '20px', \n              backgroundColor: '#f8f9fa', \n              borderRadius: '8px',\n              border: '1px solid #dee2e6',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            }}>\n              <h4 style={{ marginTop: '0', marginBottom: '20px', color: '#495057' }}>\n                Cost Breakdown (OWN-06)\n              </h4>\n              <div style={{ \n                display: 'grid', \n                gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n                gap: '15px' \n              }}>\n                <div style={{\n                  padding: '12px',\n                  backgroundColor: 'white',\n                  borderRadius: '6px',\n                  border: '1px solid #e9ecef',\n                  textAlign: 'center'\n                }}>\n                  <div style={{ fontSize: '12px', color: '#6c757d', marginBottom: '5px' }}>\n                    Weekday Credits\n                  </div>\n                  <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#007bff' }}>\n                    {costBreakdown.weekday_credits}\n                  </div>\n                </div>\n                <div style={{\n                  padding: '12px',\n                  backgroundColor: 'white',\n                  borderRadius: '6px',\n                  border: '1px solid #e9ecef',\n                  textAlign: 'center'\n                }}>\n                  <div style={{ fontSize: '12px', color: '#6c757d', marginBottom: '5px' }}>\n                    Weekend Credits\n                  </div>\n                  <div style={{ fontSize: '24px', fontWeight: 'bold', color: '#28a745' }}>\n                    {costBreakdown.weekend_credits}\n                  </div>\n                </div>\n                <div style={{\n                  padding: '12px',\n                  backgroundColor: '#007bff',\n                  borderRadius: '6px',\n                  border: '1px solid #0056b3',\n                  textAlign: 'center',\n                  color: 'white'\n                }}>\n                  <div style={{ fontSize: '12px', marginBottom: '5px', opacity: 0.9 }}>\n                    Total Credits\n                  </div>\n                  <div style={{ fontSize: '28px', fontWeight: 'bold' }}>\n                    {costBreakdown.total_credits}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {availability && (\n            <div style={{ marginTop: '20px' }}>\n              <h4 style={{ marginBottom: '15px' }}>Availability Calendar</h4>\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '5px' }}>\n                {availability.availability.map((day) => {\n                  const isHolidayOrPeak = day.is_holiday || day.is_peak_season;\n                  const dayDate = new Date(day.date).toISOString().split('T')[0];\n                  const isSelectedDate = dayDate === checkIn || dayDate === checkOut;\n                  const isInSelectedRange = checkIn && checkOut && dayDate >= checkIn && dayDate < checkOut;\n                  \n                  // Determine background color\n                  let backgroundColor = '#d4edda'; // default available\n                  if (day.is_booked) {\n                    backgroundColor = '#f8d7da';\n                  } else if (day.is_maintenance) {\n                    backgroundColor = '#fff3cd';\n                  }\n                  \n                  // Highlight holiday/peak season dates with yellow background\n                  if (isHolidayOrPeak) {\n                    backgroundColor = '#fff9c4'; // Light yellow\n                  }\n                  \n                  // Highlight selected dates with stronger border\n                  const borderColor = isSelectedDate ? '#ffc107' : isHolidayOrPeak ? '#ffd700' : '#ddd';\n                  const borderWidth = isSelectedDate ? '3px' : isHolidayOrPeak ? '2px' : '1px';\n                  \n                  return (\n                    <div\n                      key={day.date}\n                      style={{\n                        padding: '5px',\n                        width: '40px',\n                        textAlign: 'center',\n                        backgroundColor: backgroundColor,\n                        border: `${borderWidth} solid ${borderColor}`,\n                        borderRadius: '4px',\n                        fontSize: '12px',\n                        fontWeight: isSelectedDate ? 'bold' : 'normal',\n                        boxShadow: isSelectedDate ? '0 0 5px rgba(255, 193, 7, 0.5)' : 'none',\n                      }}\n                      title={\n                        day.is_holiday\n                          ? 'Holiday (Weekend pricing)'\n                          : day.is_peak_season\n                          ? 'Peak Season (Weekend pricing)'\n                          : day.is_maintenance\n                          ? 'Maintenance'\n                          : day.is_booked\n                          ? 'Booked'\n                          : 'Available'\n                      }\n                    >\n                      {new Date(day.date).getDate()}\n                      {isHolidayOrPeak && ' üü°'}\n                    </div>\n                  );\n                })}\n              </div>\n              <p style={{ fontSize: '12px', marginTop: '10px' }}>\n                üü° = Holiday/Peak Season (Weekend pricing) | Selected dates are highlighted with bold border\n              </p>\n            </div>\n          )}\n\n          <button \n            type=\"submit\" \n            className=\"btn btn-primary\" \n            disabled={loading || !costBreakdown || isQuotaExceeded()}\n            style={{ marginTop: '20px' }}\n            title={isQuotaExceeded() ? quotaError : loading ? 'Submitting...' : 'Submit Booking Request'}\n          >\n            {loading ? 'Submitting...' : 'Submit Booking Request'}\n          </button>\n          {isQuotaExceeded() && (\n            <p style={{ \n              fontSize: '12px', \n              color: '#dc3545', \n              marginTop: '8px',\n              fontStyle: 'italic'\n            }}>\n              Please adjust your booking dates or contact admin to increase your quota.\n            </p>\n          )}\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default BookingCalendar;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}